<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" 
	template="/templates/template-crud.xhtml">

	<ui:define name="search">
		<p:panelGrid columns="3" columnClasses="ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank">
#foreach($field in $modelClass.viewedFields)
	#if($field.viewed)
		#set($id = "${field.name}Filter")
		#set($label = "#{label.${field.name}}")
		#set($value = "#{${modelClass.controllerInstanceName}.filter.${field.name}}")
		#if($field.stringType)
		
#parse("./inputs/input-string.vm")
       	#elseif($field.textType)
       	
		</p:panelGrid>
		<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" styleClass="ui-panelgrid-blank">
       	
#parse("./inputs/text-area.vm")

		</p:panelGrid>
		
		<p:panelGrid columns="3" columnClasses="ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank">
       	#elseif($field.integerType)
		
#parse("./inputs/input-integer.vm")
       	#elseif($field.decimalType)
		
#parse("./inputs/input-decimal.vm")
       	#elseif($field.localDateType)
		
#parse("./inputs/input-date.vm")
		#end
	#end
#end
       		
		</p:panelGrid>
	</ui:define>
	
	<ui:define name="edit">
		<p:panelGrid columns="4" columnClasses="ui-grid-col-4" layout="grid" styleClass="ui-panelgrid-blank">
			
			<h:panelGroup>
				<p:outputLabel for="ordem" value="#{label.ordem}*"/><br/>
        		<p:inputText id="ordem" value="#{frotaController.model.ordem}" maxlength="10"/>
       		</h:panelGroup>
       		
			<h:panelGroup>
				<p:outputLabel for="veiculo" value="#{label.veiculo}*"/><br/>
        		<p:inputText id="veiculo" value="#{frotaController.model.veiculo}" maxlength="40"/>
       		</h:panelGroup>
       		
			<h:panelGroup>
				<p:outputLabel for="placa" value="#{label.placa}*"/><br/>
        		<p:inputText id="placa" value="#{frotaController.model.placa}" maxlength="20"/>
       		</h:panelGroup>
       		
			<h:panelGroup>
				<p:outputLabel for="agenda" value="#{label.agenda} *"/><br/>
	        		<p:selectOneMenu id="agenda" value="#{frotaController.model.agenda}">
	        			<f:selectItem itemLabel="" itemValue="#{null}" />
	        			<f:selectItems value="#{tiposLogicos}" var="item" itemLabel="#{msg[item.descricao]}" itemValue="#{item}" />
	        		</p:selectOneMenu>
       		</h:panelGroup>
       		
		</p:panelGrid>
		
		<p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" styleClass="ui-panelgrid-blank">
			<h:panelGroup>
				<p:outputLabel for="descricao" value="#{label.descricao}"/><br/>
				<p:inputTextarea id="descricao" value="#{frotaController.model.descricao}" rows="5" cols="50" />
       		</h:panelGroup>
		</p:panelGrid>
	</ui:define>
	
	<ui:define name="list">
	  <p:dataTable id="dataTableList" var="item" value="#{frotaController.list}" reflow="true" rows="10" paginator="true" selectionMode="single" selection="#{frotaController.model}" rowKey="#{item.id}">
	  	  <p:ajax event="rowSelect" listener="#{frotaController.onRowSelect}" update="contentPanel"/>
	      <p:column headerText="#{label.ordem}">
	          <h:outputText value="#{item.ordem}" />
	      </p:column>
	      <p:column headerText="#{label.veiculo}">
	          <h:outputText value="#{item.veiculo}" />
	      </p:column>
	      <p:column headerText="#{label.placa}">
	          <h:outputText value="#{item.placa}" />
	      </p:column>
	      <p:column headerText="#{label.agenda}">
	          <h:outputText value="#{msg[item.agenda.descricao]}" />
	      </p:column>
	  </p:dataTable>	  
	</ui:define>

</ui:composition>